<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <title>ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="dashboard.css">
</head>

<body>

    <div class="layout">

        <!-- START: Sidebar -->
        <aside class="sidebar">
            <div class="user-box">
                <img src="/chef_pic1.jpg" class="avatar" alt="Avatar">
                <div class="username">ูุฏูุฑ ุงููุธุงู</div>
            </div>

            <div class="menu">
                <a class="menu-item active" href="/dashboard/dashboard.html">ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>
                <a class="menu-item" href="/inventory.html">ุงููุฎุฒู</a>
                <a class="menu-item" href="/recipes.html">ุงููุตูุงุช</a>
                <a class="menu-item" href="/employees.html">ุงูููุธููู</a>
                <a class="menu-item">ุงููุจูุนุงุช</a>
                <a class="menu-item" href="/withdrawals.html">ุณุญูุจุงุช</a>
                <a class="menu-item" href="/waste.html">ุงููุฏุฑ</a>
                <a class="menu-item" href="/attendance.html">ุงูุจุตูุฉ</a>
                <a class="menu-item" href="/work-hours.html">ุณุงุนุงุช ุงูุนูู</a>
                <a class="menu-item" href="/shifts.html">๐ ุฌุฏุงูู ุงูุฏูุงู</a>
                <a class="menu-item" href="/leaves.html">ุงูุฅุฌุงุฒุงุช</a>
                <a class="menu-item" href="/notifications.html">๐ ุงูุฅุดุนุงุฑุงุช</a>
                <a class="menu-item">ุฅุฏุงุฑุฉ ุงููููู ุงูุฐููุฉ (AI)</a>
                <a class="menu-item" href="/settings.html">โ๏ธ ุงูุฅุนุฏุงุฏุงุช</a>
                <a class="menu-item logout" id="logoutBtn">ุชุณุฌูู ุงูุฎุฑูุฌ</a>
            </div>
        </aside>
        <!-- END: Sidebar -->

        <!-- START: Main content -->
        <main class="content">

            <!-- TOP BAR -->
            <div class="topbar">
                <div class="page-title">ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</div>

                <div class="usd-box">
                    <span>ุณุนุฑ ุงูุฏููุงุฑ (ุฏ.ุน)</span>
                    <strong id="usdValue">โ</strong>
                    <small id="usdUpdateTime" style="font-size: 0.7rem; color: #707789; margin-right: 4px;"></small>
                </div>

                <div class="top-icons">
                    <i class="icon">๐</i>
                    <i class="icon">โ๏ธ</i>
                </div>
            </div>

            <!-- KPI CARDS -->
            <section class="kpi-grid">

                <div class="kpi-card">
                    <p class="label">ููุงุฏ ูุฑุจุช ุชุฎูุต</p>
                    <h2 id="lowStockCount">0</h2>
                    <small>ุชุญุฏูุซ ูููู</small>
                </div>

                <div class="kpi-card">
                    <p class="label">ุนุฏุฏ ุงูููุธููู</p>
                    <h2 id="employeeCount">0</h2>
                    <small>ูุฌููุน ุงููุณุฌููู</small>
                </div>

                <div class="kpi-card">
                    <p class="label">ุงููููุงุช ุงูููุชุฌุฉ ุงูููู</p>
                    <h2 id="productionToday">0</h2>
                    <small>ูู ูุตูุงุช ุงูุฅูุชุงุฌ</small>
                </div>

                <div class="kpi-card">
                    <p class="label">ุขุฎุฑ ุนูููุฉ ุณุญุจ</p>
                    <h2 id="lastTransaction">โ</h2>
                    <small>ููุช ุขุฎุฑ ุนูููุฉ</small>
                </div>

            </section>

            <!-- GRAPHS SECTION -->
            <section class="charts-row">
                <div class="chart-box">
                    <h3>ุงููุฏุฑ ุงููููู</h3>
                    <canvas id="wasteChart"></canvas>
                </div>

                <div class="chart-box">
                    <h3>ุงูุฅูุชุงุฌ ุงูุดูุฑู</h3>
                    <canvas id="productionChart"></canvas>
                </div>
            </section>

            <!-- EMPLOYEE LIST -->
            <section class="table-section">
                <h3>ูุงุฆูุฉ ุงูููุธููู</h3>

                <table class="table">
                    <thead>
                        <tr>
                            <th>ุงูููุธู</th>
                            <th>ุงูุฏูุฑ</th>
                            <th>ูุฑุงุช ุงูุฏุฎูู</th>
                            <th>ุขุฎุฑ ุฏุฎูู</th>
                        </tr>
                    </thead>

                    <tbody id="employeeTable">
                        <!-- JS will load the employees -->
                    </tbody>
                </table>
            </section>

        </main>

        <!-- RIGHT PANEL -->
        <aside class="panel">
            <div class="panel-header">
                <h3>๐ ุงูุฅุดุนุงุฑุงุช</h3>
                <span id="notificationCount" class="notification-badge" style="display: none;">0</span>
            </div>
            <div id="notificationsContainer" class="notif-list">
                <!-- ุณูุชู ุชุญููู ุงูุฅุดุนุงุฑุงุช ููุง -->
                <div class="loading-notifications">ุฌุงุฑู ุชุญููู ุงูุฅุดุนุงุฑุงุช...</div>
            </div>
            <div class="panel-actions">
                <button class="btn-panel" onclick="markAllNotificationsRead()">ุชุญุฏูุฏ ุงููู ูููุฑูุก</button>
                <a href="/notifications.html" class="btn-panel">ุนุฑุถ ุงููู</a>
            </div>

            <h3>ุงููุดุงุทุงุช</h3>
            <ul class="activity-list">
                <li>ุณุญุจ ููุงุฏ ูู ุงููุฎุฒู</li>
                <li>ุฅุถุงูุฉ ูููุฉ ุฌุฏูุฏุฉ</li>
            </ul>
        </aside>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../common/auth-check.js"></script>
    <script src="../common/sidebar.js"></script>
    <script src="../common/permissions.js"></script>
    <script src="dashboard.js"></script>

</body>
</html>
